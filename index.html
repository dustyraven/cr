<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=0.6667, user-scalable=no">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="default">
	<meta name="format-detection" content="telephone=no">

	<meta name="author" content="Dusty">
	<link rel="stylesheet" href="css/bootstrap.min.css">

	<link rel="shortcut icon" href="i/favicon.ico" type="image/x-icon">

	<link rel="apple-touch-icon" href="i/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="57x57" href="i/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="72x72" href="i/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="i/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="i/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="120x120" href="i/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="144x144" href="i/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="i/apple-touch-icon-152x152.png">

	<link rel="apple-touch-startup-image" href="i/apple-touch-startup-image-320x460.png" media="(device-width: 320px)">
	<link rel="apple-touch-startup-image" href="i/apple-touch-startup-image-640x920.png" media="(device-width: 320px) and (-webkit-device-pixel-ratio: 2)">
	<!--
	<link rel="apple-touch-startup-image" href="apple-touch-startup-image-768x1004.png" media="(device-width: 768px) and (orientation: portrait)">
	<link rel="apple-touch-startup-image" href="apple-touch-startup-image-748x1024.png" media="(device-width: 768px) and (orientation: landscape)">
	<link rel="apple-touch-startup-image" href="apple-touch-startup-image-1536x2008.png" media="(device-width: 1536px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)">
	<link rel="apple-touch-startup-image" href="apple-touch-startup-image-2048x1496.png" media="(device-width: 1536px)  and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)">
	-->




	<title>ClubR</title>

	<style>
		body { padding-top: 70px; background:#F9F6F1;}
		table {background:#FFF;}
		tr.event {cursor:pointer;}
		th {text-align:center !important;vertical-align:middle !important;}
		tr.event td, tr.event th {padding:.75em !important;white-space: nowrap;text-align:center;}
		.eventdetails {white-space:nowrap;}
		.eventdetails b {display:inline-block;width: 50%;text-align:right;padding-right:1em;}
		.eventdetails b:after {content: " : ";}
		li.active a:before {content: "\2713 ";}
		.badge {float:right;}
		.navbar-brand {width:70px;}
		.navbar-brand img {position:absolute;top:4px;height:40px;}
		#scrollTop {opacity:0.25;position:fixed;bottom:1em;right:1em;display:none;text-decoration:none;}
		#scrollTop:hover {opacity: .75;}
		#scrollTop span {font-size:40px;color:#444;}
		#footer {margin-bottom:2em;}

		/*body, html {background: linear-gradient(rgba(255,0,0,.2), rgba(0,255,0,.2), rgba(0,0,255,.2));}*/


		.bgred {background:rgba(255,0,0,.15) !important;}

		.dow:before {content:", ";}

		td.free, td.busy, td.price {text-align:right;}
		th[colspan="2"] {border-bottom:none !important;}


	@media all and (max-width: 1024px) {
	    /* styles for narrow desktop browsers and iPad landscape */
	}

	@media all and (max-width: 768px) {
	    /* styles for narrower desktop browsers and iPad portrait */
	    .price {display:none;}
	}

	@media all and (max-width: 690px) {
	    /* Dusty */
	    .busy {display:none;}
	}
	@media all and (max-width: 610px) {
	    /* Dusty */
	    .age {display:none;}
	}


	@media all and (max-width: 480px) {
	    /* styles for iPhone/Android landscape (and really narrow browser windows) */
		.time {display:none;}
	}


	@media all and (max-width: 320px) {
	    /* styles for iPhone/Android portrait */
	     .dow, .time, .free {display:none;}
	}

	@media all and (max-width: 240px) {
	    /* styles for smaller devices */
	}









	</style>

<!-- UA-52322431-1 -->

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-52322431-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->


</head>

<body>


<div class="container" id="main">

	<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a href="#" class="navbar-brand" onclick="clearFilters();">
					<img src="i/logo.png" />
				</a>

			</div>

			<div class="collapse navbar-collapse" id="navbar">
				<ul class="nav navbar-nav">

					<li class="dropdown hidden">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">Събитие <b class="caret"></b></a>
						<ul id="filterType" class="dropdown-menu"></ul>
					</li>

					<li class="dropdown hidden">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">Град <b class="caret"></b></a>
						<ul id="filterCity" class="dropdown-menu"></ul>
					</li>

					<li class="dropdown hidden" id="status_filter">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">Статус <b class="caret"></b></a>
						<ul id="filterStatus" class="dropdown-menu"></ul>
					</li>

				</ul>

				<button type="button" class="btn btn-link navbar-btn navbar-right hidden" id="loginBtn" data-toggle="modal" data-target="#login">Вход</button>
				<button type="button" class="btn btn-link navbar-btn navbar-right hidden" id="logoutBtn">Изход</button>
			</div>
		</div>
	</nav>


	<div id="results">
		<img class="img-responsive center-block"  src="i/logo_big.png" />
	</div>

	<div id="loading" class="progress progress-striped active">
		<div class="progress-bar progress-bar-success"  role="progressbar" style="width:100%">
		</div>
	</div>

	<div id="footer" class="text-center col-xs-12">
		<div class="col-xs-12 col-sm-6">
			<div class="col-xs-3"><a href="https://www.facebook.com/clubr.bg" target="_blank"><img width="23" height="23" src="data:image/png;base64,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" /></a></div>
			<div class="col-xs-3"><a href="https://twitter.com/ClubRbg" target="_blank"><img width="23" height="23" src="data:image/png;base64,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" /></a></div>
			<div class="col-xs-3"><a href="https://plus.google.com/114599551423387223403" target="_blank"><img width="23" height="23" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAMAAADX9CSSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAoVQTFRF2kg12kg12kg12D8r2UIv2UQx2kcz2kg12kk22kg11S4Y1TId1jId2Dwn2Dwo2UUy2kYz2kg12kk22kg1zAIAzQcAzxAAzxIA0BUA0BcA0RkB0RwE0R0G0R4G0h4H0iEK0iIL0iMM0iQO0yQO0yYP0yYQ0ycQ0ygS1CgS1CkS1CkT1CoT1CoU1CsV1CwV1CwW1C0X1S0X1S4Y1S4Z1S8Z1S8a1TAa1TAb1TEb1TEc1TId1jIc1jId1jQe1jQf1jUf1jUg1jYh1jYi1zgj1zgk1zol1zsm1zsn1zso1zwn2Dsn2Dwn2Dwo2D0o2D0p2D4p2D4q2D4r2D8r2D8s2EAs2EAt2EIu2UEt2UIu2UMw2UQw2UQx2UUy2UYz2kUy2kYy2kYz2kcz2kc02kg12kg22kk12kk22ko32ko420k220o420s420s520w520w6200620473FA+3FJA3FRC3FZE3VZE3VZF3VhG3VlI3lpJ3ltK3lxK3l1N319O319P32BQ32JR4WhY4WlZ4Wxc4Wxd4W5f4nBh4nBi5Hdp5Hlr5Htt5Hxu5X5w5X5x5YFz5YF15oJ154Z554d754t+6IyB6I6D6I+D6paM6peM6piM6piN6pmP65qP652T7KCW7aad7aif7qmg7qqh7qui7q6m77Gp8LOr8LSs8LWt8Lau8bq08bu08b228r228r+48sG688G788K888O988W/88bA9MrE9MrF9czH9c3I9c7I9c7J9c/J9dLN9tHM9tHN9tTQ99fT+NrW+NvX+NzZ+eHe+ePg+uXi+uXj+ubk+unm++zq/O7t/O/t/PLx/fPx/ff2/vn5/vv7/vz8//38//39//7+////1mtYgQAAABR0Uk5T197l6urq6urq7vLy8vLy8vLy8vz8zDuMAAABvUlEQVQoz2Ng4GQHAzYWZhBg5QBxOBkZkkEg108nIDk6MqW4pjQKLJDMwA4k8nQjFized+Ho/s0rigLAwoIg8VyjijNbSqoPXbvc7ByUjhD3d7tyXt5Ox+TotS0aickIcZUZ1xYqZubKTrx2rckSIZ6gu+naKq3kZPvya9f61ZNjkqDiSRprr53y8kzzTrt2rdYxzTogF2qOXue1a1PFfKUqr63XCYpY122alAYWj9Vfcu3adI/Ck9vNAqwsr80Ri8wGi2cHGPftPHb42lY5B7c1J6+ePd5uDhZPzo7WVgm+dm2WaFjo5PlXd8+ud4WIpyc4yYtvuXZ1pnKAjtK1aSIh+SDxtFxzo8b5i7Zdu3Ztqb5fcm99EMQ9ufplO84vn9tatevatXk6qfru+WDxNJvSi9cqZDRt1VRXXruU4Q3zb4LW1muTJDLSknPtdI9cq3OAiQfGnbvWJZ0LCm7Jjdfi/WDikRYHr+0xkHcPD1LwubZMHR5uaWYN166daCtIKuo4vUE3PA0entm6VauBbjx+YO8ULfccmHrh5LQcc8Pslgk99S5a8VnJUMDAKCgoKCTAx8PFzcsvJAgDTAAVxMxcIEIpyQAAAABJRU5ErkJggg==" /></a></div>
			<div class="col-xs-3"><a href="http://www.pinterest.com/clubrbg/" target="_blank"><img width="23" height="23" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABV5JREFUGBldwV2I5XUdx/H39/v7P5wzZ2Z2dt3nB4lsViGUctksg7T2opJKCIuEbkIiccmii7LuumgNDSKysKIo1Ipki8AihCRUmmxr04qlvIol1133YXZmzsz5P/x+v08z626Zr5c9u3UrlyhDOUUsakplXJkSe4eq6v2W9Z7sfp1BDWjdv7L0jMOTg777ZVMExtUUe5fOM3/uZa4oeJ0s4cbbQlEfkdkh1ik4JnGFu1/vcL2ke/qyelHGl5F+zOs4Spgy5IQk6qK8ryiq59z9EBiXSJgZmOFmbJDEhhTCfvfwmLv/xJWN17Bnd+xFQM6Ruh4+VFbDwzknNhhgZghIMZ0249/RoICrLRTbkUBiQ3JnGLvjg+XxgTYHcMNTDqTklIPZTxb18HDOiQ1mRhaLbd8dUezf0nf9LsV0cLlrD6617Q7Wxu+i7x42D5TuhJRo6vrGU7Nbj67FQOoL7KltuzBj18xw5hTuSEIGm82OTrp819k0WZq2ChW+rXB/0yR2kz6l52djpnBnpaoPZtJvZsp6S8yZwp0wXrxjtZsc9XJqmtFo09fMHUkoONMT+/mfzl+8469qlnYORrd5WSwE91cEvx8W1V+m6+GiV8MHncw4t8curq4erNyjAQXGueHst5/wknD31GizhfJRMMycWvHCWtMe+PTSWXbUxeFbpzY9toz2IhHMEWBmA4Lf3Lm/tW3jT8vAYh9jHJT1oV6ZOvho3upjXpq/18wBIYO1pn2giUt8a8vc/Iemr3roVNfgbffDJH1wpWu+k5VBIiOKUN6+luNNy30HKX09S2M2SFRmH3EV1bvFq0xKfTn40ayV7C8GnwtFASku1O3kE4InDN0tOCcMBELsmpq+be9ojpnp6SYrL7DOBKnkgCf360wZd6eP8eRkZel0nhpxYTi8VSnSoIcXSycoMapq3EwgXiUs2KAjs9h2ZGnZzRBgsjk3mGWdCQR+0eFCUdFbmAtZZFjpzWmanmbSXmvGNq6QYTmfCQgBghH/I5/kdKYwQ8oUodinarCzXzpPOVn5rUKgLusPDMuaxUlPE/OdwZ3/Mohts+AxMVcMKIPfkCQukxfwQsZIgIfg+3P8zLauo1O4N+UM0hstGVfNTjE9GnwsZXGJOcQ0tpSf6ylounwAsdsAMyPnfMaV9KQQBihnNJy6r5/ZdEPrdsEQMaZfBYPdg5rS7dosAYYZROOehOW6X6Wq0mdlxgY3o8/pGe9S/3TKadXNQIlkgTCaeWGqKv/AuhCqX59bvsgvTr/EJPHVyh0kLPX3N0V65J/9mJNdO19a+DgbDHIWcZIe9bJZ69X39ycvAAMJyxks3BRyOjVK4xMr3bI/vrbCP7r2i0N8Rx3bLStd+6XTqz3XDGb2XLNjz9O9GWThOFHxj431z9vfd+0jIcvV1JnewzZTZoPcGLXpB0uTyV0nq8DVVf070PfH5Ee2S5zP2rMq//C+uvyKYCZJGOuC0cf0ZrN8ophbvoDWrQzb903mtv+5zAKJIcbx1B3LuePGXO9VUdzSK99i2b7RuU02BXZvMSMBWcIAlY4vxc/PLOuEcIq/jUYIgTg+1zYfLcvqZ9mMmMVM6QsplTQe3mnKSKIy25xhs4AoscHNMBerq803116xByscEG5mmBkWAkVKj3ft2s0TpZeyGXtCffIN9YBYVXdyWeb/uRkGfUzpU82kubfHGGOMATfAAANKM1ZTXFiM3XyO/Re4cLZfje3byyrczmUCghnBDIPJOPbfe7lt5gN8191xoAAKoOA1BLg52Xyitnlga7/Giz6Vhm06ItNO3IZB9OMUz7iFY0P0VJvi+UbCzXi9/wBxifE31DltqAAAAABJRU5ErkJggg==" /></a></div>
		</div>
		<div class="col-xs-12 visible-xs">&nbsp;</div>
		<div class="col-xs-12 col-sm-6">
			<a href="http://websins.com" rel="nofollow" style="text-decoration:none;color:#464646;font-size:10px;font-weight:bold;position:relative;" target="_blank" title="дизайн и изработка WebSins"><span style="position:relative;z-index:1;">Boiled by</span> <img alt="Websins" src="data:image/png;base64,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" style="position:relative;top:0px;left:-6px;z-index:1;" height="29" width="32"><span style="z-index:100;position:relative;left:-15px;font-weight:bold;">WebSins</span></a>
		</div>
	</div>

</div>


<div class="modal fade" id="login">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
				<h4 class="modal-title">Вход в ClubR</h4>
			</div>
			<div class="modal-body">
				<div id="loginFailed" class="alert alert-danger hidden"></div>
				<form class="form-horizontal" role="form">
					<div class="form-group">
					<label for="user" class="col-sm-2 control-label">Email</label>
						<div class="col-sm-10">
							<input type="email" class="form-control" id="user" placeholder="Email">
						</div>
					</div>
					<div class="form-group">
						<label for="pass" class="col-sm-2 control-label">Парола</label>
						<div class="col-sm-10">
							<input type="password" class="form-control" id="pass" placeholder="Парола">
						</div>
					</div>
					<div class="form-group">
						<div class="col-xs-offset-2 col-xs-10">
							<button type="button" class="btn btn-primary" onclick="login();">Вход</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>

<!-- redirect -->
<form style="display:none;" id="redirect" action="" target="_blank" method="post">
	<input type="hidden" name="redirect" value="" />
	<input type="hidden" name="user" value="" />
	<input type="hidden" name="pass" value="" />
</form>
<!-- end of redirect -->


<script src="js/jquery-1.11.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script>

	String.prototype.capitalize = function() {
	    return this.charAt(0).toUpperCase() + this.slice(1);
	}

	jQuery.fn.justtext = function() {
		return $(this).clone().children().remove().end().text();
	};


	if("function" != typeof str2date)
		function str2date(str) {
			var s = str.match(/(\d+)/g);
			if(!s[5]) s[5] = '00';
			return new Date(s[2],s[1]-1,s[0],s[3],s[4],s[5]);
		}

	if("function" != typeof time)
		function time(d) {
			if(!d) d = new Date();
			return Math.round(d.getTime() / 1000);
		}

	if("function" != typeof stopEvent)
		function stopEvent(e) {
			e.stopPropagation();
			e.preventDefault();
			return e;
		}

	if("function" != typeof log)
		function log(e) {
		    if ( console && console.log ) {
				console.log(e);
			}
			return e;
		}


	if("function" != typeof scrollToTop)
		function scrollToTop() {
			$("html, body").animate({ scrollTop: 0 }, 600);
			return false;
		}


	if("function" != typeof validateEmail)
		function validateEmail(email) {
			var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
			return re.test(email);
		}


	function logout() {
		var data = getVar("data"), user = getVar("user");

		$.each( data.events, function( key, value ) {
			value.status = 0;
		});

		track("Misc", "LogOut", user);

		data.isLogged = 0;
		setVar("data", data);
		setVar('user',false);
		setVar('pass',false);

		dataLoaded();
	}


	function setVar(k,v)
	{
		cr[k] = v;
		save();
		if (-1 != $.inArray( k, filters )) {
			applyFilters();
			hideMenus();
		}
	}

	function getVar(k)
	{
		load();
		return cr[k] ? cr[k] : false;
	}

	function save()
	{
		localStorage["clubr"] = JSON.stringify(cr);
	}

	function load()
	{
		if(localStorage["clubr"])
			cr = jQuery.parseJSON(localStorage["clubr"]);
	}

	function hideMenus() {
		$(".dropdown.open").removeClass("open");
		$(".collapse.in").removeClass("in");
	}

	function setLogBtn() {
		$("#loginBtn").removeClass("hidden");
		$("#logoutBtn").removeClass("hidden");
		if(isLogged)
		{
			$("#loginBtn").addClass("hidden");
			$("status_filter").removeClass("hidden");
		}
		else
		{
			$("#logoutBtn").addClass("hidden");
			$("status_filter").addClass("hidden");
		}


	}

	function setActives() {

		$.each(filters, function(i,v) {
			$("li[class^='"+v+"'],li[class*=' "+v+"']").removeClass("active");
			$("li."+v+cr[v]).addClass("active");
		});
	}

	function clearFilters() {
		$.each(filters, function(i,k) {
			cr[k] = 0;
		});
		applyFilters();
		save();
	}

	function applyFilters() {

/*
id: "155"
link: "http://www.clubr.bg/събития/коучинг-как-избираме-партньора-си.html"
num: "- - -"
reg_url: "http://www.clubr.bg/event_register.php?id=155"
title: "Как избираме партньор"
*/
		var selectors = ['tr.event'], filterText = [];

		$.each(filters, function( ii, filter ) {
			if(0 != cr[filter]) {
				selectors.push('.' + filter + '-' + cr[filter]);
				filterText.push($("li." + filter + cr[filter] + " a").justtext());
				$(".col-"+filter).hide();
			}
			else
				$(".col-"+filter).show();

		});

		if(selectors.length) {
			var selector = selectors.join("");
			$("tr.event").hide();
			$(selector).show();
			setActives();
		}

		$("#filterText").remove();
		if(filterText.length) {
			$( "#results" ).before($("<div>").attr({"id": "filterText", "class":"well well-sm"}).html(filterText.join(" &raquo; ")));
			$(".time").removeClass("time").addClass("timeV");
			if(filterText.length > 1)
				$(".age").removeClass("age").addClass("ageV");
		} else {
			$(".timeV").removeClass("timeV").addClass("time");
			$(".ageV").removeClass("ageV").addClass("age");
		}
	}


	function setBadges() {
		var b = {};

		b["type0"] = b["city0"] = b["status0"] = $("tr.event").length;

		$.each(filters, function( i, k ) {
			b[k+"0"] = $("tr.event").length;
			$.each([1,2,3,4,5,6,7,8,9], function(ii,v) {
				var li = $("li."+k+v);
				if($("li."+k+v).length)
					b[k+v] = $("tr.event."+k+"-"+v).length;
			});
		});
		$.each(b, function( k, v ) {
			if(v)
				$("li."+k).find( ".badge" ).html(v ? v : '');
			else
				$("li."+k).remove();
		});

	}

	function drawTable() {

		var table = $("<table>").attr({"class": "table table-striped table-bordered table-hover table-condensed"}).append(
			$("<thead>").append(
				$("<tr>").append(
					$("<th>").attr({"rowspan": 2}).html("Дата"),
					$("<th>").attr({"rowspan": 2, "class": "time"}).html("Час"),
					$("<th>").attr({"rowspan": 2, "class": "col-city"}).html("Град"),
					$("<th>").attr({"rowspan": 2, "class": "col-type"}).html("Тип"),
					$("<th>").attr({"colspan": 2, "class": "age"}).html("Възраст"),
					$("<th>").attr({"colspan": 2, "class": "busy"}).html("Заети"),
					$("<th>").attr({"colspan": 2, "class": "free"}).html("Своб."),
					$("<th>").attr({"rowspan": 2, "class": "price"}).html("Цена"),

					$("<th>").attr({"rowspan": 2, "class": "text-center"}).append(
						$("<span>").attr({"class":"glyphicon glyphicon-info-sign"})
					)
				),
				$("<tr>").append(
					$("<th>").attr({"class": "age"}).html("Ж"),
					$("<th>").attr({"class": "age"}).html("М"),
					$("<th>").attr({"class": "busy"}).html("Ж"),
					$("<th>").attr({"class": "busy"}).html("М"),
					$("<th>").attr({"class": "free"}).html("Ж"),
					$("<th>").attr({"class": "free"}).html("М")
				)
			)
		);
		var tbody = $("<tbody>").attr({"id":"events"});

		var statusIcons = {
			0: "search",
			1: "pencil",
			2: "check",
			3: "remove-circle",
			4: "ban-circle",
			5: "user",
			6: "remove-circle",
			7: "exclamation-sign"
			};

		$.each(events, function(i,e) {

			$("<tr>").attr({"title":e.title,"class":"event type-"+e.type+" city-"+e.city+" status-"+e.status, "onclick":'eventModal("'+i+'")'}).append(
				$("<td>").html(e.date).append(
					$("<span>").attr({"class": "dow"}).html(dows[e.dow])
				),
				$("<td>").attr({"class": "time"}).html(e.time),
				$("<td>").attr({"class": "col-city"}).html(cities[e.city]),
				$("<td>").attr({"class": "col-type"}).html(types[e.type]),
				$("<td>").attr({"class": "age"}).html(e.f_age),
				$("<td>").attr({"class": "age"}).html(e.m_age),
				$("<td>").attr({"class": "busy"}).html(e.f_in),
				$("<td>").attr({"class": "busy"}).html(e.m_in),
				$("<td>").attr({"class": "free"}).html(e.f_free),
				$("<td>").attr({"class": "free"}).html(e.m_free),
				$("<td>").attr({"class": "price"}).html(e.price),
				$("<td>").append(
					$("<span>").attr({"class":"glyphicon glyphicon-" + statusIcons[e.status]})
				)
			).appendTo(tbody);
		});

		tbody.appendTo(table);
		$("#results").html(table);


		$("#results tr.status-2").addClass("text-success");
		$("#results tr.status-3").addClass("text-danger");
		$("#results tr.status-4").addClass("text-danger");
		$("#results tr.status-5").addClass("text-danger");
		$("#results tr.status-6").addClass("text-danger");


		$( "td.free" ).each(function( index ) {
			var t = $(this);
			if(t.closest("tr").hasClass("status-1") && parseInt(t.html()) < 3)
				t.addClass("bgred")
		});

		$("#results").fadeIn();
	}

	function eventModal(id) {
  		var e = events[id];

  		var statusEl = "";

  		track("View",types[e.type], e.title);

		if(2 == e.status)
			statusEl =$("<div>").attr({"class":"alert-success"}).html("Вие ще участвате в събитието");
		else if(3 == e.status)
			statusEl =$("<div>").attr({"class":"alert-danger"}).html("Няма свободни места");
		else if(4 == e.status)
			statusEl =$("<div>").attr({"class":"alert-danger"}).html("Вашата възраст не е подходяща");
		else if(5 == e.status)
			statusEl =$("<div>").attr({"class":"alert-danger"}).html("В събитието има участници, с които вече сте се срещали");
		else if(6 == e.status)
			statusEl =$("<div>").attr({"class":"alert-danger"}).html("Вашият лимит за участие в този тип събития е изчерпан");

		if(statusEl) statusEl.addClass("alert text-center");

	    $("<div>").attr({"class": "modal","tabindex": "-1"}).append(
	        $("<div>").attr({"class": "modal-dialog"}).append(
	            $("<div>").attr("class", "modal-content").append(
	                $("<div>").attr("class", "modal-header").append(
	                	$("<button>").attr({"class": "close", "type":"button", "data-dismiss":"modal", "aria-hidden":"true"}).html("&times;"),
	                    $("<h4>").attr("class", "modal-title text-center").html(types[e.type])
	                ),
	                $("<div>").attr({"class": "modal-body eventdetails", "data-dismiss":"modal"}).append(
	                	statusEl,
	                	$("<h4>").attr("class", "text-center").html(e.title),
	                	$("<div>").html("<b>Град</b>" + cities[e.city]),
	                	$("<div>").html("<b>Дата</b>" + e.date + " (" + dows[e.dow] + ")"),
	                	$("<div>").html("<b>Час</b>" + e.time + "ч."),
	                	$("<div>").html("<b>Цена</b>" + e.price + "лв."),
	                	$("<h4>").attr({"class":"text-center"}).html("Жени"),
	                	$("<div>").html("<b>Възраст</b>" + e.f_age),
	                	$("<div>").html("<b>Записани</b>" + e.f_in),
	                	$("<div>").html("<b>Свободни места</b>" + e.f_free),
	                	$("<h4>").attr({"class":"text-center"}).html("Мъже"),
	                	$("<div>").html("<b>Възраст мъже</b>" + e.m_age),
	                	$("<div>").html("<b>Записани</b>" + e.m_in),
	                	$("<div>").html("<b>Свободни места</b>" + e.m_free)
	                ),
	                $("<div>").attr("class", "modal-footer text-center").append(
	                	$("<a>").attr({"class":"crlink","href":e.link, "target":"_blank"}).html("Виж в сайта на ClubR...")
	                )

	            )
	        )
	    ).modal();

	}






////////////////////////////////////
////////////////////////////////////
////////////////////////////////////




function login(user, pass)
{
	if(!user && !pass) {
		user = $("#user").val();
		pass = $("#pass").val();
	}

	if(user.length < 3 || pass.length < 3 || !validateEmail(user))
		return false;

	setVar("user", user);
	setVar("pass", pass);

	track("Misc", "LogIn", user);

	loadData(true);
}

function loadData(force) {

	if(!force) {
		var data = getVar("data");
		if(data && data.updated) {
			var u = str2date(data.updated);
			if(time() - time(u) < 60*60*6) {
				dataLoaded();
				return;
			}
		}
	}


	$("#updBtn").hide();
	$("#updStatus").html(" ...обновяване...");
	$("#loading").show();

	var req = {
		user: getVar("user"),
		pass: getVar("pass")
	};
	var user = req.user;

	track("Update", "Request", user);

	req.user = req.user.length ? btoa(req.user) : '';
	req.pass = req.pass.length ? btoa(req.pass) : '';


	$.ajax({
		type: 'post',
		url: api_url,
		async: false,
		crossDomain: true,
		timeout: 1000,
		data: req,
		contentType: "application/json",
		jsonp: "callback",
		dataType: 'jsonp'
	}).done(function( data ) {
		setVar("data", data);
		$("#updStatus").html("");
		track("Update", "Success", user);
	}).fail(function() {
		$("#updStatus").html("грешка при обновяване");
		track("Update", "Failed", user);
  	}).always(function() {
		dataLoaded();
		$("#updBtn").show();
		$("#loading").hide();
	});

}


function dataLoaded(data) {

	if(!data)
		data = getVar("data");

	if(!data)
		return false;

	if(data.err_login) {
		$("#loginFailed").html(data.err_login).removeClass("hidden");
		track("Misc", "LogIn Failed", getVar("user"));
		setVar("user", false);
		setVar("pass", false);
		isLogged = false;
		return;
	}

	isLogged = data.isLogged;
	types = data.types;
	cities = data.cities;
	events = data.events;
	dows = data.dows;
	statuses = data.statuses;

	$("#updTs").html("Обновено: " + data.updated);

	create_options('type', data.types);
	create_options('city', data.cities);
	if(isLogged)
		create_options('status', data.statuses);

	$.each(filters, function( i, k ) {
		$( $("li[class^='"+k+"']") ).each(function() {
			var c = $(this).attr('class').match(/[\d\w-_]+/g)[0];
			$(this).find('a').on("click",function(){
				var idx = c.replace(/\D/g,''), filterVal = "Unknown";
				setVar(k,idx);

				if('type' == k) filterVal = types[idx];
				else if('city' == k) filterVal = cities[idx];
				else if('status' == k) filterVal = statuses[idx];
				track("Filter",filterNames[k],filterVal);
			})
		});
	});


	$("#login").modal('hide');


	drawTable();
	setBadges();
	clearFilters();


	setLogBtn();
}



function create_options(prefix, opts) {

	var id = "#filter" + prefix.capitalize(), el = $(id);

	el.empty();

	$.each(opts, function( index, value ) {
		el.append(
			$("<li>").attr("class", prefix + index).append(
				$("<a>").attr("href", "#").html(value).prepend(
					$("<span>").attr("class", "badge")
				)
			)
		);

		if(0 == index)
			el.append($("<li>").attr("class", "divider hidden-xs"));
	});

	el.parent("li").removeClass("hidden");

}


function track(category, action, label, value) {

	if("undefined" == typeof ga) return false;
	if(!category || !action) return false;

	var e = {
		'hitType': 'event',
		'eventCategory': category,
		'eventAction': action
	};
	if(label) e.eventLabel = label;
	//if(value) e.eventValue = value;
	ga('send', e);
}


var cr = {},
	isLogged = 0,
	filters = ['type','city','status'],
	filterNames = {'type':'Събитие','city':'Град','status':'Статус'},
	types,
	cities,
	events,
	api_url = 'http://pi.denev.info/cr/app.php';



(function($) {

	if (window.navigator.standalone) {
		$(".navbar-fixed-top").css("top", "20px");
		$("body").css("padding-top", "90px");
	}


	$(document).on("click", "a[href=#]", function(e){
		e.preventDefault();
		return false;
	});

	$(document).on("click", "a.crlink", function(e) {
		stopEvent(e);
		var h = $(this).attr("href"), r = $("#redirect");

		track("Redirect",h);

		r.attr("action", api_url);
		r.find("[name=redirect]").val(h);
		r.find("[name=user]").val(getVar("user"));
		r.find("[name=pass]").val(getVar("pass"));
		r.submit();
		return false;
	});


	$("#logoutBtn").on("click", logout);

	var st = $('<a>').attr('id', 'scrollTop').attr('href', '#').on("click", function(e){
		stopEvent(e);
		scrollToTop();
	}).append($("<span>").attr('class', 'glyphicon glyphicon-circle-arrow-up')).appendTo($("body"));

	$(window).scroll(function(){
		if ($(this).scrollTop() > 100)
			$('#scrollTop').fadeIn();
		else
			$('#scrollTop').fadeOut();
	});

	$('#login').on('show.bs.modal', function (e) {
		$("#loginFailed").empty().addClass("hidden");
	});


	$( "#footer" ).before($("<div>").attr({"id": "updated", "class":"well well-sm text-center"})
		.append(
			$("<span>").attr("id","updTs"),
			$("<button>").attr({"id":"updBtn", "class":"btn btn-link", "onclick":"loadData(true)"}).append(
				$("<span>").attr("class","glyphicon glyphicon-refresh")
			),
			$("<span>").attr("id","updStatus")
		)
	);



	setLogBtn();
	$("#loading").hide();
	loadData();

})(jQuery);

</script>

</body>
</html>

